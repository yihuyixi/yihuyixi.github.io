<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="android," />





  <link rel="alternate" href="/atom.xml" title="苏鲜明的博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Bitmap的创建
创建Bitmap的时候，Java不提供new Bitmap()的形式去创建，而是通过BitmapFactory中的静态方法去创建,如:BitmapFactory.decodeStream(is);//通过InputStream去解析生成Bitmap(这里就不贴BitmapFactory中创建Bitmap的方法了，大家可以自己去看它的源码)，我们跟进BitmapFactory中创">
<meta property="og:type" content="article">
<meta property="og:title" content="android图片压缩">
<meta property="og:url" content="http://yoursite.com/2017/08/10/android图片压缩/index.html">
<meta property="og:site_name" content="苏鲜明的博客">
<meta property="og:description" content="Bitmap的创建
创建Bitmap的时候，Java不提供new Bitmap()的形式去创建，而是通过BitmapFactory中的静态方法去创建,如:BitmapFactory.decodeStream(is);//通过InputStream去解析生成Bitmap(这里就不贴BitmapFactory中创建Bitmap的方法了，大家可以自己去看它的源码)，我们跟进BitmapFactory中创">
<meta property="og:updated_time" content="2018-01-03T01:40:18.979Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="android图片压缩">
<meta name="twitter:description" content="Bitmap的创建
创建Bitmap的时候，Java不提供new Bitmap()的形式去创建，而是通过BitmapFactory中的静态方法去创建,如:BitmapFactory.decodeStream(is);//通过InputStream去解析生成Bitmap(这里就不贴BitmapFactory中创建Bitmap的方法了，大家可以自己去看它的源码)，我们跟进BitmapFactory中创">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/08/10/android图片压缩/"/>

  <title> android图片压缩 | 苏鲜明的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">苏鲜明的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">要有最朴素的生活和最遥远的梦想,无论明日天寒地冻,路远马亡</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                android图片压缩
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-08-10T17:45:01+08:00" content="2017-08-10">
              2017-08-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Bitmap的创建"><a href="#Bitmap的创建" class="headerlink" title="Bitmap的创建"></a>Bitmap的创建</h2><blockquote>
<p>创建Bitmap的时候，Java不提供new Bitmap()的形式去创建，而是通过BitmapFactory中的静态方法去创建,如:BitmapFactory.decodeStream(is);//通过InputStream去解析生成Bitmap(这里就不贴BitmapFactory中创建Bitmap的方法了，大家可以自己去看它的源码)，我们跟进BitmapFactory中创建Bitmap的源码，最终都可以追溯到这几个native函数<a id="more"></a></p>
</blockquote>
<pre><code>private static native Bitmap nativeDecodeStream(InputStream is, byte[] storage,
            Rect padding, Options opts);
private static native Bitmap nativeDecodeFileDescriptor(FileDescriptor fd,
        Rect padding, Options opts);
private static native Bitmap nativeDecodeAsset(long nativeAsset, Rect padding, Options opts);
private static native Bitmap nativeDecodeByteArray(byte[] data, int offset,
        int length, Options opts);
</code></pre><blockquote>
<p>而Bitmap又是Java对象，这个Java对象又是从native，也就是C/C++中产生的，所以，在Android中Bitmap的内存管理涉及到两部分，一部分是native，另一部分是dalvik，也就是我们常说的java堆(如果对java堆与栈不了解的同学可以戳)，到这里基本就已经了解了创建Bitmap的一些内存中的特性(大家可以使用adb shell dumpsys meminfo去查看Bitmap实例化之后的内存使用情况)。</p>
<h2 id="Bitmap的使用"><a href="#Bitmap的使用" class="headerlink" title="Bitmap的使用"></a>Bitmap的使用</h2><p>我们已经知道了BitmapFactory是如何通过各种资源创建Bitmap了，那么我们如何合理的使用它呢？以下是几个我们使用Bitmap需要关注的点</p>
<h2 id="size"><a href="#size" class="headerlink" title="size"></a>size</h2><p> size:这里我们来算一下，在Android中，如果采用Config.ARGB_8888的参数去创建一个Bitmap，这是Google推荐的配置色彩参数，也是Android4.4及以上版本默认创建Bitmap的Config参数(Bitmap.Config.inPreferredConfig的默认值)，那么每一个像素将会占用4byte，如果一张手机照片的尺寸为1280×720，那么我们可以很容易的计算出这张图片占用的内存大小为 1280x720x4 = 3686400(byte) = 3.5M，一张未经处理的照片就已经3.5M了! 显而易见，在开发当中，这是我们最需要关注的问题，否则分分钟OOM!因此需要对Bitmap进行压缩处理，一般Android应用开发中几种常见的图片压缩方法，分别是：质量压缩法、比例压缩法（根据路径获取图片并压缩）和比例压缩法（根据Bitmap图片压缩）以及通过matrix对位图进行缩放。</p>
<h3 id="质量压缩法"><a href="#质量压缩法" class="headerlink" title="质量压缩法"></a>质量压缩法</h3><pre><code>private Bitmap compressImage(Bitmap image) {
</code></pre></blockquote>
<pre><code>    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    image.compress(Bitmap.CompressFormat.JPEG, 100, baos);//质量压缩方法，这里100表示不压缩，把压缩后的数据存放到baos中
    int options = 100;
    while ( baos.toByteArray().length / 1024&gt;100) { //循环判断如果压缩后图片是否大于100kb,大于继续压缩
        baos.reset();//重置baos即清空baos
        image.compress(Bitmap.CompressFormat.JPEG, options, baos);//这里压缩options%，把压缩后的数据存放到baos中
        options -= 10;//每次都减少10
    }
    ByteArrayInputStream isBm = new ByteArrayInputStream(baos.toByteArray());//把压缩后的数据baos存放到ByteArrayInputStream中
    Bitmap bitmap = BitmapFactory.decodeStream(isBm, null, null);//把ByteArrayInputStream数据生成图片
    return bitmap;
}
</code></pre><h3 id="图片按比例大小压缩"><a href="#图片按比例大小压缩" class="headerlink" title="图片按比例大小压缩"></a>图片按比例大小压缩</h3><pre><code>private Bitmap getimage(String srcPath) {
    BitmapFactory.Options newOpts = new BitmapFactory.Options();
    //开始读入图片，此时把options.inJustDecodeBounds 设回true了
    newOpts.inJustDecodeBounds = true;
    Bitmap bitmap = BitmapFactory.decodeFile(srcPath,newOpts);//此时返回bm为空

    newOpts.inJustDecodeBounds = false;
    int w = newOpts.outWidth;
    int h = newOpts.outHeight;
    //现在主流手机比较多是800*480分辨率，所以高和宽我们设置为
    float hh = 800f;//这里设置高度为800f 或者获取屏幕的高
    float ww = 480f;//这里设置宽度为480f 或者获取屏幕的宽
    //缩放比。由于是固定比例缩放，只用高或者宽其中一个数据进行计算即可
    int be = 1;//be=1表示不缩放
    if (w &gt; h &amp;&amp; w &gt; ww) {//如果宽度大的话根据宽度固定大小缩放
        be = (int) (newOpts.outWidth / ww);
    } else if (w &lt; h &amp;&amp; h &gt; hh) {//如果高度高的话根据宽度固定大小缩放
        be = (int) (newOpts.outHeight / hh);
    }
    if (be &lt;= 0)
        be = 1;
    newOpts.inSampleSize = be;//设置缩放比例
    //重新读入图片，注意此时已经把options.inJustDecodeBounds 设回false了
    bitmap = BitmapFactory.decodeFile(srcPath, newOpts);
    return compressImage(bitmap);//压缩好比例大小后再进行质量压缩
}
</code></pre><h3 id="图片按比例大小压缩方法-（根据Bitmap图片压缩）"><a href="#图片按比例大小压缩方法-（根据Bitmap图片压缩）" class="headerlink" title="图片按比例大小压缩方法 （根据Bitmap图片压缩）"></a>图片按比例大小压缩方法 （根据Bitmap图片压缩）</h3><pre><code>private Bitmap comp(Bitmap image) {

ByteArrayOutputStream baos = new ByteArrayOutputStream();
image.compress(Bitmap.CompressFormat.JPEG, 100, baos);
if( baos.toByteArray().length / 1024&gt;1024) {//判断如果图片大于1M,进行压缩避免在生成图片（BitmapFactory.decodeStream）时溢出
    baos.reset();//重置baos即清空baos
    image.compress(Bitmap.CompressFormat.JPEG, 50, baos);//这里压缩50%，把压缩后的数据存放到baos中
}
ByteArrayInputStream isBm = new ByteArrayInputStream(baos.toByteArray());
BitmapFactory.Options newOpts = new BitmapFactory.Options();
//开始读入图片，此时把options.inJustDecodeBounds 设回true了
newOpts.inJustDecodeBounds = true;
Bitmap bitmap = BitmapFactory.decodeStream(isBm, null, newOpts);
newOpts.inJustDecodeBounds = false;
int w = newOpts.outWidth;
int h = newOpts.outHeight;
//现在主流手机比较多是800*480分辨率，所以高和宽我们设置为
float hh = 800f;//这里设置高度为800f
float ww = 480f;//这里设置宽度为480f
//缩放比。由于是固定比例缩放，只用高或者宽其中一个数据进行计算即可
int be = 1;//be=1表示不缩放
if (w &gt; h &amp;&amp; w &gt; ww) {//如果宽度大的话根据宽度固定大小缩放
    be = (int) (newOpts.outWidth / ww);
} else if (w &lt; h &amp;&amp; h &gt; hh) {//如果高度高的话根据宽度固定大小缩放
    be = (int) (newOpts.outHeight / hh);
}
if (be &lt;= 0)
    be = 1;
newOpts.inSampleSize = be;//设置缩放比例
//重新读入图片，注意此时已经把options.inJustDecodeBounds 设回false了
isBm = new ByteArrayInputStream(baos.toByteArray());
bitmap = BitmapFactory.decodeStream(isBm, null, newOpts);
return compressImage(bitmap);//压缩好比例大小后再进行质量压缩
}
</code></pre><h3 id="通过matrix对原图进行缩放，可选取原图的一部分"><a href="#通过matrix对原图进行缩放，可选取原图的一部分" class="headerlink" title="通过matrix对原图进行缩放，可选取原图的一部分"></a>通过matrix对原图进行缩放，可选取原图的一部分</h3><pre><code>/**
 *这种类似于上传图像时，在原图上扣下来一块的效果，控制非常灵活
 * @param path 原图路径
 * @param offsetX 截取开始点在X轴偏移量
 * @param offsetY 截取开始点在Y轴偏移量
 * @param targetW 截取多宽（像素）
 * @param targetH 截取多高（像素）
 * @return
 */
public static Bitmap matrixScale(String path,int offsetX,int offsetY,int targetW,int targetH){
    // 构建原始位图
    Bitmap bitmap = BitmapFactory.decodeFile(path);
    // 获取原始宽高
    int width = bitmap.getWidth();
    int height = bitmap.getHeight();
    // 计算宽高缩放比例，targetW，targetH即期待缩放完成后位图的宽高
    float scaleW = (float)targetW / width;
    float scaleH = (float)targetH / height;
    // 将缩放比例放进矩阵
    Matrix matrix = new Matrix();
    matrix.postScale(scaleW, scaleH);
    // 这个方法作用非常多，详细解释一下各个参数的意义！
    // bitmap：原始位图
    // 第二到第五个参数，即截取原图哪一部分构建新位图，
    // offsetX和offsetY代表在X轴和Y轴上的像素偏移量，即从哪个位置开始截取
    // width和height代表截取多少个像素，但是要注意，offsetX+width应该小于等于原图的宽度
    // offsetY+height小于等于原图高度，要不然会报错，因为截到原图外面去了
    // 像下面这样填写，就代表截取整个原图，
    // Bitmap.createBitmap(bitmap, 0, 0, width, height, matrix, false);
    // 如果填写100,100,200,200，就代表
    // 从原图左上角往右和下各偏移100像素，然后往后和往下各截取200构建新位图
    // matrix：缩放矩阵
    // 最后一个参数表示如果矩阵里面还存放了过滤条件，是否按条件过滤（如果matrix里面只放了平移数据），最后一个参数设置成什么都不会生效
    bitmap = Bitmap.createBitmap(bitmap, offsetX, offsetY, width, height, matrix, false);
    return bitmap;
}
</code></pre><h2 id="reuse"><a href="#reuse" class="headerlink" title="reuse"></a>reuse</h2><p>上面说了BitmapFactory通过InputStream去创建Bitmap的这种方式，以及BitmapFactory.Options.inSimpleSize 和 BitmapFactory.Options.inJustDecodeBounds的使用方法，但将单个Bitmap加载到UI是简单的，但是如果我们需要一次性加载大量的图片，事情就会变得复杂起来。Bitmap是吃内存大户，我们不希望多次解析相同的Bitmap，也不希望可能不会用到的Bitmap一直存在于内存中，所以，这个场景下，Bitmap的重用变得异常的重要。 在这里只介绍一种BitmapFactory.Options.inBitmap的重用方式（三级缓存也可实现bitmap的重用，图片加载框架用的都是三级缓存）</p>
<pre><code>根据官方文档[在Android 3.0 引进了BitmapFactory.Options.inBitmap](https://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inBitmap)，如果这个值被设置了，decode方法会在加载内容的时候去重用已经存在的bitmap. 这意味着bitmap的内存是被重新利用的，这样可以提升性能, 并且减少了内存的分配与回收。然而，使用inBitmap有一些限制。特别是在Android 4.4 之前，只支持同等大小的位图。
我们看来看看这个参数最基本的运用方法。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">new BitmapFactory.Options options = new BitmapFactory.Options();</div><div class="line">//inBitmap只有当inMutable为true的时候是可用的。</div><div class="line">options.inMutable = true;</div><div class="line">Bitmap reusedBitmap = BitmapFactory.decodeResource(getResources(),R.drawable.reused_btimap,options);</div><div class="line">options.inBitmap = reusedBitmap;</div></pre></td></tr></table></figure>


  这样，当你在下一次decodeBitmap的时候，将设置了`options.inMutable=true`以及`options.inBitmap`的`Options`传入，Android就会复用你的Bitmap了，具体实例：

```
@Override
protected void onCreate(@Nullable Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(reuseBitmap());
}

private LinearLayout reuseBitmap(){
    LinearLayout linearLayout = new LinearLayout(this);
    linearLayout.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));
    linearLayout.setOrientation(LinearLayout.VERTICAL);

    ImageView iv = new ImageView(this);
    iv.setLayoutParams(new ViewGroup.LayoutParams(500,300));

    options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    //inBitmap只有当inMutable为true的时候是可用的。
    options.inMutable = true;
    BitmapFactory.decodeResource(getResources(),R.drawable.big_pic,options);

    //压缩Bitmap到我们希望的尺寸
    //确保不会OOM
    options.inSampleSize = findBestSampleSize(options.outWidth,options.outHeight,500,300);
    options.inJustDecodeBounds = false;

    Bitmap bitmap = BitmapFactory.decodeResource(getResources(),R.drawable.big_pic,options);
    options.inBitmap = bitmap;

    iv.setImageBitmap(bitmap);

    linearLayout.addView(iv);

    ImageView iv1 = new ImageView(this);
    iv1.setLayoutParams(new ViewGroup.LayoutParams(500,300));
    iv1.setImageBitmap( BitmapFactory.decodeResource(getResources(),R.drawable.big_pic,options));
    linearLayout.addView(iv1);

    ImageView iv2 = new ImageView(this);
    iv2.setLayoutParams(new ViewGroup.LayoutParams(500,300));
    iv2.setImageBitmap( BitmapFactory.decodeResource(getResources(),R.drawable.big_pic,options));
    linearLayout.addView(iv2);


    return linearLayout;
}
</code></pre><p> 以上代码中，我们在解析了一次一张1080P分辨率的图片，并且设置在<code>options.inBitmap</code>中，然后分别decode了同一张图片，并且传入了相同的<code>options</code>。最终只占用一份第一次解析<code>Bitmap</code>的内存。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/android/" rel="tag">#android</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/08/设计模式/" rel="next" title="设计模式">
                <i class="fa fa-chevron-left"></i> 设计模式
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Suxm" />
          <p class="site-author-name" itemprop="name">Suxm</p>
          <p class="site-description motion-element" itemprop="description">老苏</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Bitmap的创建"><span class="nav-number">1.</span> <span class="nav-text">Bitmap的创建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bitmap的使用"><span class="nav-number">2.</span> <span class="nav-text">Bitmap的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#size"><span class="nav-number">3.</span> <span class="nav-text">size</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#质量压缩法"><span class="nav-number">3.1.</span> <span class="nav-text">质量压缩法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图片按比例大小压缩"><span class="nav-number">3.2.</span> <span class="nav-text">图片按比例大小压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图片按比例大小压缩方法-（根据Bitmap图片压缩）"><span class="nav-number">3.3.</span> <span class="nav-text">图片按比例大小压缩方法 （根据Bitmap图片压缩）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过matrix对原图进行缩放，可选取原图的一部分"><span class="nav-number">3.4.</span> <span class="nav-text">通过matrix对原图进行缩放，可选取原图的一部分</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reuse"><span class="nav-number">4.</span> <span class="nav-text">reuse</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Suxm</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
